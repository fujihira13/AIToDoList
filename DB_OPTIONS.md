# データベース・ストレージ選択肢（無料プラン）

## 現在の状況

- ✅ 写真のアップロード機能は**既に実装済み**
- 📁 データは JSON ファイル（`app/data/*.json`）で保存
- 🖼️ 写真はローカルファイルシステム（`app/static/avatars/`）に保存

## 無料で使える選択肢

### 1. **SQLite（推奨：最も簡単）**

**メリット：**

- ✅ 完全無料
- ✅ 追加の依存関係不要（Python 標準ライブラリ）
- ✅ ファイルベースで簡単
- ✅ 小〜中規模のアプリに最適

**デメリット：**

- ❌ 同時書き込みに弱い（小規模なら問題なし）
- ❌ 複数サーバー間での共有が難しい

**実装難易度：** ⭐（簡単）

---

### 2. **Supabase（PostgreSQL）**

**メリット：**

- ✅ 完全無料プランあり（500MB DB、1GB ストレージ）
- ✅ PostgreSQL（本格的な DB）
- ✅ 組み込みストレージ（写真保存も可能）
- ✅ リアルタイム機能あり
- ✅ 認証機能も無料

**デメリット：**

- ❌ 外部サービスへの依存
- ❌ 設定が少し複雑

**実装難易度：** ⭐⭐（中程度）

**URL：** https://supabase.com

---

### 3. **Railway（PostgreSQL + ストレージ）**

**メリット：**

- ✅ 無料クレジットあり（$5/月）
- ✅ PostgreSQL + アプリホスティングも可能
- ✅ 簡単なデプロイ

**デメリット：**

- ❌ 無料枠は限定的

**実装難易度：** ⭐⭐（中程度）

**URL：** https://railway.app

---

### 4. **MongoDB Atlas**

**メリット：**

- ✅ 無料プランあり（512MB）
- ✅ NoSQL（柔軟なスキーマ）
- ✅ GridFS で写真も保存可能

**デメリット：**

- ❌ 学習コストあり
- ❌ 現在の JSON 構造から移行が必要

**実装難易度：** ⭐⭐⭐（やや複雑）

**URL：** https://www.mongodb.com/cloud/atlas

---

### 5. **現在の JSON 方式を継続**

**メリット：**

- ✅ 追加実装不要
- ✅ シンプル
- ✅ 小規模なら十分

**デメリット：**

- ❌ スケールしない
- ❌ 同時アクセスに弱い

**推奨：** 個人利用・小規模チームなら現状維持で OK

---

## 写真ストレージの選択肢

### 現在：ローカルファイルシステム

- ✅ 実装済み
- ✅ 無料
- ❌ サーバー再起動で消える可能性

### クラウドストレージ（無料プラン）

1. **Cloudinary**

   - 無料：25GB/月、25GB 帯域幅
   - 画像最適化機能あり
   - URL: https://cloudinary.com

2. **Imgur API**

   - 無料：匿名アップロード
   - URL: https://api.imgur.com

3. **Supabase Storage**
   - Supabase 使用時は一緒に使える
   - 1GB 無料

---

## 推奨案

### ケース 1：個人利用・小規模チーム

**→ SQLite に移行**

- JSON ファイルから SQLite に移行
- 写真は現在のまま（ローカル）または Cloudinary
- 実装が簡単で無料

### ケース 2：本番環境・複数ユーザー

**→ Supabase**

- PostgreSQL + ストレージ
- スケーラブル
- 無料プランで十分

### ケース 3：現状維持

**→ JSON ファイル方式を継続**

- 既に動作している
- 小規模なら問題なし

---

## 次のステップ

どの選択肢にしますか？

1. SQLite に移行（推奨）
2. Supabase に移行
3. 現状維持
4. その他

選択していただければ、実装をサポートします！
